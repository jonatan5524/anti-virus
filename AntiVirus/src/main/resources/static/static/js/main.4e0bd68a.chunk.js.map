{"version":3,"sources":["api/antiVirusREST.js","api/scanners.js","components/App.js","index.js"],"names":["api","axios","create","baseURL","checkActive","component","path","a","get","response","setState","status","data","getLogger","responseType","param","params","validPath","error","console","log","getList","includes","virusCount","length","virusPathList","suspiciousCount","suspiciousPathList","ScanResult","state","virusListGET","suspiciousListGET","antiVirus","this","basePath","statusGetPath","setInterval","props","list","map","value","virusli","listToli","suspiciousli","class","React","Component","Logger","logEnd","createRef","loggerGetPath","btnAutoScroll","autoScoll","id","Scanner","scannerType","activeScan","notActiveScan","activeHeader","isActive","InitUserScan","initDirectoryGetPath","startScanGetPath","input","handleChange","e","target","valid","startsWith","validInputCheck","type","onChange","placeholder","onClick","handleClick","startScan","UserScan","ScheduleScan","App","ReactDOM","render","document","querySelector"],"mappings":"+RAEMA,E,OAAMC,EAAMC,OAAO,CACrBC,QAAS,0BAIN,SAAeC,EAAtB,oC,4CAAO,WAA2BC,EAAWC,GAAtC,eAAAC,EAAA,+EAEwBP,EAAIQ,IAAIF,GAFhC,OAEOG,EAFP,OAGCJ,EAAUK,SAAS,CAAEC,OAAQF,EAASG,OAHvC,gDAMCP,EAAUK,SAAS,CAAEC,QAAQ,IAN9B,0D,sBAUA,SAAeE,EAAtB,oC,4CAAO,WAAyBR,EAAWC,GAApC,eAAAC,EAAA,+EAEwBP,EAAIQ,IAAIF,EAAM,CAAEQ,aAAc,SAFtD,OAEOL,EAFP,OAGCJ,EAAUK,SAAS,CAAEE,KAAMH,EAASG,OAHrC,yEAMQ,KAAMH,UANd,0D,kEAUA,WAA6BJ,EAAWC,EAAMS,GAA9C,SAAAR,EAAA,+EAEOP,EAAIQ,IAAIF,EAAM,CAAEQ,aAAc,OAAQE,OAAQ,CAAEV,KAAMS,KAF7D,OAGCV,EAAUK,SAAS,CAAEO,UAAW,SAHjC,+CAMCZ,EAAUK,SAAS,CAAEO,UAAW,QAASC,MAAO,KAAMT,SAASG,OANhE,yD,kEAUA,WAA6BP,EAAWC,GAAxC,SAAAC,EAAA,+EAEOP,EAAIQ,IAAIF,GAFf,sDAICa,QAAQC,IAAI,KAAMX,UAJnB,yD,sBAQA,SAAeY,EAAtB,oC,4CAAO,WAAuBhB,EAAWC,GAAlC,eAAAC,EAAA,+EAEwBP,EAAIQ,IAAIF,EAAM,CAAEQ,aAAc,SAFtD,OAEOL,EAFP,OAGKH,EAAKgB,SAAS,mBACdjB,EAAUkB,WAAad,EAASG,KAAKY,OACrCnB,EAAUK,SAAU,CAACe,cAAehB,EAASG,SAG7CP,EAAUqB,gBAAkBjB,EAASG,KAAKY,OAC1CnB,EAAUK,SAAS,CAAEiB,mBAAoBlB,EAASG,QATvD,gDAaCO,QAAQC,IAAR,MAbD,0D,gCCxCDQ,E,4MACFC,MAAQ,CAAEJ,cAAe,GAAIE,mBAAoB,I,EACjDG,aAAe,kB,EACfC,kBAAoB,uB,EACpBR,WAAa,E,EACbG,gBAAkB,E,kEAEG,IAAD,OAEhBM,EAAkBC,KAAMA,KAAKC,SAAWD,KAAKE,eAC7CC,aAAY,kBAAMJ,EAAkB,EAAM,EAAKK,MAAMH,SAAW,EAAKJ,gBAAe,KACpFM,aAAY,kBAAMJ,EAAkB,EAAM,EAAKK,MAAMH,SAAW,EAAKH,qBAAoB,O,+BAGnFO,GACN,OAAOA,EAAKC,KAAK,SAACjC,GACd,OAAO,wBAAIkC,MAAM,IAAIlC,Q,+BAOzB,IAAMmC,EAAUR,KAAKS,SAAST,KAAKJ,MAAMJ,eACnCkB,EAAeV,KAAKS,SAAST,KAAKJ,MAAMF,oBAC9C,OACI,yBAAKiB,MAAM,wBACP,wBAAIA,MAAM,WACN,yBAAKA,MAAM,4BACP,wBAAIJ,MAAM,IAAV,kBAA8BP,KAAKV,aAEvC,yBAAKqB,MAAM,4BACP,4BACMH,KAId,wBAAIG,MAAM,WACN,yBAAKA,MAAM,+BACP,wBAAIJ,MAAM,IAAV,6BAAyCP,KAAKP,kBAElD,yBAAKkB,MAAM,+BACP,4BACMD,U,GA3CLE,IAAMC,WAqDzBC,E,4MACFC,OAASH,IAAMI,Y,EACfC,cAAgB,O,EAChBrB,MAAQ,CAAEjB,KAAM,I,EAChBuC,eAAgB,E,EAChBC,WAAY,E,kEAIS,IAAD,OAChBpB,EAAoBC,KAAMA,KAAKI,MAAMH,SAAWD,KAAKiB,eACrDd,aAAY,kBAAMJ,EAAoB,EAAM,EAAKK,MAAMH,SAAW,EAAKgB,iBAAgB,O,+BAKvF,IAAMtC,EAAOqB,KAAKJ,MAAMjB,KACxB,OACI,6BACI,6BACI,yBAAKgC,MAAM,sBAAsBS,GAAG,OAChC,uBAAGT,MAAM,YAAT,IAAsBhC,EAAtB,Y,GArBHiC,IAAMC,WA+BrBQ,E,4MACFzB,MAAQ,CAAElB,OAAQ,I,EAClB4C,YAAc,G,EACdrB,SAAW,G,EACXC,cAAgB,U,kEAEK,IAAD,OAChBH,EAAsBC,KAAMA,KAAKC,SAAWD,KAAKE,eACjDC,aAAY,kBAAMJ,EAAsB,EAAM,EAAKE,SAAW,EAAKC,iBAAgB,O,+BAG9ExB,GACL,OAAIA,EACOsB,KAAKuB,aAGLvB,KAAKwB,kB,mCAKhB,OACI,6BACI,wBAAIb,MAAK,yBAAT,e,sCAMR,OACA,6BACI,wBAAIA,MAAK,uBAAT,mB,+BAMJ,IAAMc,EAAezB,KAAK0B,SAAS1B,KAAKJ,MAAMlB,QAC9C,OACI,6BACI,wBAAIiC,MAAM,4BAAV,IAAwCX,KAAKsB,YAA7C,KACEG,EACF,kBAAC,EAAD,CAAQxB,SAAWD,KAAKC,WACxB,kBAAC,EAAD,CAAYA,SAAWD,KAAKC,gB,GA3CtBW,IAAMC,WAkDtBc,E,4MACFC,qBAAuB,yB,EACvBC,iBAAmB,S,EACnBC,MAAQ,G,EACRlC,MAAQ,CAAEZ,UAAW,QAAS8C,MAAO,GAAI7C,MAAO,I,EAEhD8C,aAAe,SAACC,GACZ,EAAKF,MAAQE,EAAEC,OAAO1B,O,6DDvHvB,SAAP,+BC2HQR,CAAwBC,KAAMA,KAAKI,MAAMH,SAAWD,KAAK4B,qBAAsB5B,KAAK8B,S,sCAGxEI,GACZ,OAAIlC,KAAKJ,MAAMX,MAAMkD,WAAW,YAAuB,QAATD,EAEtC,yBAAKvB,MAAM,+BAAX,mBAKS,SAATuB,EAEA,yBAAKvB,MAAM,2BAAX,wBAOA,yBAAKA,MAAM,iCAAX,gB,kCAQRX,KAAKJ,MAAMZ,UAAY,QD7IxB,SAAP,6BC8IQe,CAAwBC,KAAMA,KAAKI,MAAMH,SAAWD,KAAK6B,oB,+BAGlD,IAAD,OACAK,EAAQlC,KAAKJ,MAAMZ,UAEzB,OACI,6BACMgB,KAAKoC,gBAAgBF,GACvB,yBAAKvB,MAAK,aAAiB,QAAPuB,EAAgB,WAAa,GAAvC,iBACN,2BAAOd,GAAG,qBAAqBiB,KAAK,OAAOC,SAAWtC,KAAK+B,aAAeQ,YAAY,oBAE1F,6BACA,2BAAOF,KAAK,SAAS1B,MAAK,mBAAuB,QAAPuB,EAAgB,WAAa,GAA7C,WACLM,QAAS,WAAO,EAAKC,eAAiBlC,MAAM,YAEjE,6BACA,6BACA,2BAAO8B,KAAK,SAAS1B,MAAK,mBAAuB,SAAPuB,EAAiB,WAAa,GAA9C,WACLM,QAAS,WAAO,EAAKE,aAAenC,MAAM,qB,GA3DpDK,IAAMC,WAmEpB8B,EAAb,4MACIrB,YAAc,oBADlB,EAEIrB,SAAW,YAFf,8DAMQ,OACI,6BACI,6BACI,wBAAIU,MAAK,uBAAT,gBACA,kBAAC,EAAD,CAAcV,SAAWD,KAAKC,iBAVlD,GAA8BoB,GAoBjBuB,EAAb,4MACItB,YAAc,wBADlB,EAEIrB,SAAW,gBAFf,YAAmCoB,GCvMpBwB,E,uKApBP,OACI,yBAAKlC,MAAO,QACR,yBAAKA,MAAM,wBACP,yBAAKA,MAAM,kBAAkBS,GAAK,mBAAlC,iBAEJ,yBAAKT,MAAM,cACP,yBAAKA,MAAM,mCACP,yBAAKA,MAAM,UACR,kBAAC,EAAD,OAEH,yBAAKA,MAAM,UACR,kBAAC,EAAD,c,GAfTC,IAAMC,WCCxBiC,IAASC,OAAQ,kBAAE,EAAF,MAAYC,SAASC,cAAc,Y","file":"static/js/main.4e0bd68a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:4060\"\r\n});\r\n\r\n\r\nexport async function checkActive(component, path) {\r\n    try {\r\n        const response = await api.get(path);\r\n        component.setState({ status: response.data });\r\n   \r\n    } catch (error) {\r\n        component.setState({ status: false });\r\n    }\r\n};\r\n\r\nexport async function getLogger(component, path) {\r\n    try {\r\n        const response = await api.get(path, { responseType: 'text' });    \r\n        component.setState({ data: response.data }); \r\n\r\n    } catch (error) {\r\n        return error.response;\r\n    }\r\n};\r\n\r\nexport async function initDirectory(component, path, param) {\r\n    try {\r\n        await api.get(path, { responseType: 'text', params: { path: param}});\r\n        component.setState({ validPath: \"true\" });\r\n   \r\n    } catch (error) {\r\n        component.setState({ validPath: \"false\", error: error.response.data });\r\n    }\r\n};\r\n\r\nexport async function startUserScan(component, path) {\r\n    try {\r\n        await api.get(path);  \r\n    } catch (error) {\r\n        console.log(error.response);\r\n    }\r\n};\r\n\r\nexport async function getList(component, path) {\r\n    try {\r\n        const response = await api.get(path, { responseType: \"json\" });  \r\n        if (path.includes(\"virusFoundList\")){\r\n            component.virusCount = response.data.length;\r\n            component.setState( {virusPathList: response.data} );\r\n        }\r\n        else {\r\n            component.suspiciousCount = response.data.length;\r\n            component.setState({ suspiciousPathList: response.data });\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error );\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport * as antiVirus from \"./antiVirusREST.js\";\r\nimport \"../components/App.css\";\r\n\r\n\r\nclass ScanResult extends React.Component {\r\n    state = { virusPathList: [], suspiciousPathList: [] };\r\n    virusListGET = \"/virusFoundList\";\r\n    suspiciousListGET = \"/virusSuspiciousList\";\r\n    virusCount = 0 ;\r\n    suspiciousCount = 0;\r\n\r\n    componentDidMount() {\r\n       \r\n        antiVirus.getList(this, this.basePath + this.statusGetPath);\r\n        setInterval(() => antiVirus.getList(this, this.props.basePath + this.virusListGET), 800);\r\n        setInterval(() => antiVirus.getList(this, this.props.basePath + this.suspiciousListGET), 800);\r\n    }\r\n\r\n    listToli (list) {\r\n        return list.map( (path)=> {\r\n            return <li value=\"\">{path}</li>\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    render () {\r\n        const virusli = this.listToli(this.state.virusPathList);\r\n        const suspiciousli = this.listToli(this.state.suspiciousPathList);\r\n        return (\r\n            <div class=\"ui header resultScan\" >\r\n                <ol class=\"ui list\">\r\n                    <div class=\"ui inverted red segment \">\r\n                        <li value=\"\">viruses found: { this.virusCount }</li>\r\n                    </div>\r\n                    <div class=\"ui secondary red segment\">\r\n                        <ol>\r\n                            { virusli }\r\n                        </ol>\r\n                    </div>\r\n                </ol>       \r\n                <ol class=\"ui list\">\r\n                    <div class=\"ui inverted yellow segment \">\r\n                        <li value=\"\">suspicious viruses found: { this.suspiciousCount }</li>\r\n                    </div>\r\n                    <div class=\"ui secondary yellow segment\">\r\n                        <ol>\r\n                            { suspiciousli }\r\n                        </ol>\r\n                    </div>\r\n                </ol>              \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass Logger extends React.Component{\r\n    logEnd = React.createRef();\r\n    loggerGetPath = \"/log\";\r\n    state = { data: \"\" };\r\n    btnAutoScroll = true;\r\n    autoScoll = true;\r\n\r\n    \r\n\r\n    componentDidMount() {   \r\n        antiVirus.getLogger(this, this.props.basePath + this.loggerGetPath);       \r\n        setInterval(() => antiVirus.getLogger(this, this.props.basePath + this.loggerGetPath), 800);\r\n    } \r\n\r\n\r\n    render () {\r\n        const data = this.state.data;\r\n        return (    \r\n            <div>\r\n                <div>\r\n                    <div class=\"ui tertiary segment\" id=\"log\" >\r\n                        <p class=\"ui black\"> {data} </p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nclass Scanner extends React.Component {\r\n    state = { status: \"\" };\r\n    scannerType = \"\";\r\n    basePath = \"\";\r\n    statusGetPath = \"/status\";\r\n\r\n    componentDidMount() {\r\n        antiVirus.checkActive(this, this.basePath + this.statusGetPath);\r\n        setInterval(() => antiVirus.checkActive(this, this.basePath + this.statusGetPath), 800);\r\n    }\r\n\r\n    isActive(status) {\r\n        if (status) {\r\n            return this.activeScan();\r\n        }\r\n        else {\r\n            return this.notActiveScan();\r\n        }\r\n    }\r\n\r\n    activeScan(){\r\n        return (\r\n            <div>\r\n                <h3 class={`ui large header green`}> Active </h3>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    notActiveScan(){\r\n        return (\r\n        <div>\r\n            <h3 class={`ui large header red`}> Not Active </h3>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n    render () {\r\n        const activeHeader = this.isActive(this.state.status);\r\n        return (\r\n            <div>\r\n                <h3 class=\"ui large dividing header\"> { this.scannerType } </h3>\r\n                { activeHeader }\r\n                <Logger basePath={ this.basePath }/>\r\n                <ScanResult basePath={ this.basePath }/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nclass InitUserScan extends React.Component {\r\n    initDirectoryGetPath = \"/initDirectoryPathScan\";\r\n    startScanGetPath = \"/start\";\r\n    input = \"\";\r\n    state = { validPath: \"false\", input: \"\", error: \"\"};\r\n\r\n    handleChange = (e) =>  {\r\n        this.input = e.target.value;\r\n    }\r\n\r\n    handleClick() {\r\n        antiVirus.initDirectory(this, this.props.basePath + this.initDirectoryGetPath, this.input);\r\n    }\r\n\r\n    validInputCheck(valid) {\r\n        if (this.state.error.startsWith(\"invalid\") && valid != \"true\" ) {\r\n            return(\r\n                <div class=\"ui pointing below label red\">\r\n                    path not found!\r\n                </div>\r\n            );\r\n        }\r\n        else if(valid == \"false\") {\r\n            return(\r\n                <div class=\"ui pointing below label\">\r\n                    Enter folder to scan\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return(\r\n                <div class=\"ui right pointing label green\">\r\n                    valid path\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    startScan() {\r\n        this.state.validPath = \"false\"\r\n        antiVirus.startUserScan(this, this.props.basePath + this.startScanGetPath);\r\n    }\r\n\r\n    render () {\r\n        const valid = this.state.validPath;\r\n        \r\n        return (\r\n            <div>\r\n                { this.validInputCheck(valid) }\r\n                <div class={`ui ${ (valid==\"true\")? \"disabled\" : \"\" } input focus`}>\r\n                    <input id=\"initDirectoryInput\" type=\"text\" onChange={ this.handleChange } placeholder=\"init directory\" />\r\n                </div>\r\n                <div>\r\n                <input type=\"button\" class={`ui green ${ (valid==\"true\")? \"disabled\" : \"\" } button`}\r\n                                     onClick={() => {this.handleClick() }} value=\"submit\" />\r\n                </div>\r\n                <br />\r\n                <div>\r\n                <input type=\"button\" class={`ui green ${ (valid==\"false\")? \"disabled\" : \"\" } button`}\r\n                                     onClick={() => {this.startScan() }} value=\"start scan\" />\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport class UserScan extends Scanner {\r\n    scannerType = \"User scan status:\";\r\n    basePath = \"/userScan\";\r\n\r\n    notActiveScan () {\r\n\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <h3 class={`ui large header red`}> Not Active </h3>\r\n                    <InitUserScan basePath={ this.basePath } /> \r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport class ScheduleScan  extends Scanner {\r\n    scannerType = \"Schedule scan status:\";\r\n    basePath = \"/scheduleScan\";\r\n   \r\n}","import React from \"react\";\r\nimport * as scanners from \"../api/scanners.js\";\r\n\r\nclass App extends React.Component {\r\n\r\n    render () {\r\n\r\n        return ( \r\n            <div class =\"main\">\r\n                <div class=\"ui inverted segment \">\r\n                    <div class=\"ui huge header \" id = \"AntiVirusHeader\"  > Anti Virus </div>\r\n                </div>\r\n                <div class=\"ui segment\">\r\n                    <div class=\"ui two column very relaxed grid\">\r\n                        <div class=\"column\" >\r\n                           <scanners.ScheduleScan/>\r\n                        </div>\r\n                        <div class=\"column\" >\r\n                           <scanners.UserScan/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render( < App / > , document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}